!function(e,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define([],n):"object"==typeof exports?exports.VTWidgetBridge=n():e.VTWidgetBridge=n()}("undefined"!=typeof self?self:this,(function(){return function(e){function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}var t={};return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},n.p="",n(n.s=0)}([function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=t(1);t.d(n,"Bridge",(function(){return r.a})),t.d(n,"BridgeConfig",(function(){return r.b}))},function(e,n,t){"use strict";function r(){d()&&(window.veritranBridgeHelper.sendMessage=c,window.veritranBridgeHelper.sendAttributes=s)}function i(e){return-1!=B.indexOf(e)}function o(e,n,t){var r=e[n];r?-1===r.indexOf(t)&&e[n].push(t):e[n]=[t]}function u(e,n,t){var r=e[n];if(r){var i=r.indexOf(t);-1!==i&&e[n].splice(i,1)}}function c(e,n,t){i(t)||a(e,n)}function a(e,n){var t=p[e];if(t){var r=t.splice(0);r.forEach((function(t){return g.frameworkCallback((function(){return t(e,n)}))}))}var i=v[e];i&&i.forEach((function(t){r&&-1!==r.indexOf(t)||g.frameworkCallback((function(){return t(e,n)}))}))}function s(e,n){var t=f(e);t&&g.frameworkCallback((function(){return t(n)}))}function f(e){var n=b[e];return delete b[e],n}function d(){return!!window.veritranBridgeHelper}t.d(n,"a",(function(){return l})),t.d(n,"b",(function(){return g}));var l={bridgeExists:d,callEvent:function(e){var n=w[e];n&&n.splice(0).forEach((function(n){return g.frameworkCallback((function(){return n(e,{})}))}))},raiseEvent:function(e,n){r();var t=++m;return d()&&window.veritranBridgeHelper.raiseWidgetEvent(e,n,t),function(e,n,t){function r(){B.push(t)}return{default:function(o){if(!d()){var u=o(e,n);u&&!i(t)&&g.frameworkTimeout((function(){a(u.messageName,u.attrs)}),0)}return{cancel:r}},cancel:r}}(e,n,t)},subscribe:function(e,n){r(),o(v,e,n)},subscribeOnce:function(e,n){r(),o(p,e,n)},unsubscribe:function(e,n){r(),u(p,e,n),u(v,e,n)},onCompletedInit:function(e){o(w,"onCompletedInit",e)},getAttributes:function(e){r();var n={};e.forEach((function(e){n[e]=void 0}));var t=function(t){var r=++m;return b[r]=function(e){for(var r in e)n[r]=e[r];t(n)},d()?window.veritranBridgeHelper.getAttributes(r,e):g.frameworkTimeout((function(){return s(r,n)}),0),{cancel:function(){return f(r)}}};return{defaultValues:function(e){for(var r in e)n[r]=e[r];return{then:t}},then:t}},onBackButtonDeviceAction:function(e){o(w,"onBackButtonDeviceAction",e)},enableBackButton:function(e){d()&&window.veritranBridgeHelper.enableBackButtonHandler(e)}},g={init:r,frameworkCallback:function(e){e()},frameworkTimeout:function(e,n){setTimeout(e,n)}},v={},p={},w={},b={},m=0,B=[];r()}])})),function(){"use strict";var e=window.VTWidgetBridge.Bridge;window.VTWidgetBridge.BridgeConfig.init();var n=(new Map).set("secureStorageResponse","vtgettext").set("responseAllContacts","vtgetAllContactsmsg").set("vtGenerateOtpResponse","vtGenerateOtpmsg").set("vtEnrollResponse","vtEnrollmsg").set("vtSetPasswordResponse","vtSetPasswordmsg").set("responseCamera","getCameramsg").set("imagePickerResponse","imagePickermsg"),t=(new Map).set("setValueInSecureStorage",(function(e){return{secureStorageRequest:e.key,valueSecureStorageRequest:e.value}})).set("getValueFromSecureStorage",(function(e){return{secureStorageRequest:e.key}})).set("secureStorageResponse",(function(e){var n=e.secureStorageResponse;return{statusCode:0,statusDescription:"OK",data:n.substring(5,n.length)}})),r=function(e){return{statusCode:0,statusDescription:"OK",data:e}};window.nsWebViewInterface={on:function(i,o){return e.subscribe(n.get(i)||i,(function(e,n){return o((t.get(i)||r)(n))}))},emit:function(r){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.raiseEvent(n.get(r)||r,(t.get(r)||function(e){return e})(i))},off:function(e){window.nsWebViewInterface.hasOwnProperty(e)&&(window.nsWebViewInterface[e]=[])},isEventBrowser:function(){return!e.bridgeExists()}}}();